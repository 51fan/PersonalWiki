## Stack Overflow: The Architecture - Stack Overflow的系统架构 [**Back**](./../translation.md)

> * 原文链接 : [Stack Overflow: The Architecture - 2016](http://nickcraver.com/blog/2016/02/17/stack-overflow-the-architecture-2016-edition/)
* 原文作者 : [Nick Craver](https://github.com/NickCraver)
* 译者 : [aleen42](https://github.com/aleen42) 
* 校对者: 暂无
* 状态 :  翻译中

&#160; &#160; &#160; &#160;为了弄明白我要说的这些东西到底是在“做”什么，我一开始将会以Stack Overflow更新的数据作出说明。与之前[2013年11份的数据](http://nickcraver.com/blog/2013/11/22/what-it-takes-to-run-stack-overflow/)相比，这里有一份2016年2月9日的统计数据及之间的数据差异。
- **209,420,973**（+61,336,090）HTTP请求到达我们的负载均衡器
- **66,294,789**（+30,199,477）属于页面加载
- **1,240,266,346,053**（+406,273,363,426）字节（1.24 TB）的HTTP流量被发送
- **569,449,470,023**（+282,874,825,991）字节（569 GB）的数据被接收
- **3,084,303,599,266**（+1,958,311,041,954）字节（3.08 TB）的数据被发送
- **504,816,843**（+170,244,740）的SQL查询（仅仅通过HTTP请求）
- **5,831,683,114**（+5,418,818,063）的Redis命中数
- **17,158,874**（在2013年的数据中并没有跟踪该项）的Elasticsearch使用数
- **3,661,134**（+57,716）的标签引擎（Tag Engine）请求数
- **607,073,066**（+48,848,481）毫秒（168 小时）用于执行SQL查询
- **10,396,073**（-88,950,843）毫秒（2.8 小时）用于Redis的命中
- **147,018,571**（+14,634,512）毫秒（40.8 小时）用于处理标签引擎（Tag Engine）的请求
- **1,609,944,301**（-1,118,232,744）毫秒（447 小时）用于ASP.Net的处理
- 平均**22.71**（-5.29）毫秒（在ASP.Net是19.12毫秒）用于49,180,275页面的呈现
- 平均**11.80**（-53.2）毫秒（在ASP.Net是8.81毫秒）用于6,370,076首页的呈现

&#160; &#160; &#160; &#160;也许，此刻你会在思考与2013年相比，为什么在每天有6100万以上请求数的情况下，ASP.Net的处理时间仍然会有明显的减少现象（减少了757小时）。这是因为我们[在2015年早期做了硬件升级](http://blog.serverfault.com/2015/03/05/how-we-upgrade-a-live-data-center/)，并且在应用级中对应用作出了大量的性能协调。请不要忘记，[性能这一点任然起着重要的作用](http://www.codinghorror.com/blog/2011/06/performance-is-a-feature.html)。听过我将要传达的信息后，如果你想知道更多关于硬件的细节——不用怕。我将会把关于所有正在运行的服务器，它们的硬件详情写在附录里。（而且只要它们还在运行，我都会更新这些详情）

&#160; &#160; &#160; &#160;那么，到底过去的两年发生了什么呢？除了更换部分的服务器和网络装置，没有其它。这里有一份现在还在运行的顶层硬件列表（并且指明了与2013年时的差别）：

- 4台使用Microsoft SQL Server的服务器（其中两部是新设备）
- 11台使用IIS Web Server的服务器（新设备）
- 2台使用Redis的服务器（新设备）
- 3台使用Tag Engine的服务器（其中三分之二是新设备）
- 3台使用Elasticsearch的服务器（没改变）
- 4台使用HAProxy的负载均衡器（其中新添置两台用于服务CloudFlare公司）
- 2个网络（每一个都使用Nexus 5596 Core + 2232TM Fabric Extenders，并且每处的宽度速率都提升到10Gbps）
- 2台使用Fortinet 800C的防火墙（替换了原来的Cisco 5525-X ASAs）
- 2台使用Cisco ASR-1001的路由器（替换了原来的Cisco 3945路由器）
- 2台使用Cisco ASR-1001-x的Routers（新设本）

<a href="http://aleen42.github.io/" target="_blank" ><img src="./../../pic/tail.gif"></a>
